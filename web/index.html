<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>CryptoZombies front-end</title>
    <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Include web3.js here -->
    <script language="javascript" type="text/javascript" src="web3.min.js"></script>
    <script language="javascript" type="text/javascript" src="cryptozombies_abi.js"></script>

  </head>
  <body>

    <script>
        // Start here

        var cryptoZombies;
        var userAccount;

        function startApp(){
          var cryptoZombiesAddress = "YOUR_CONTRACT_ADDRESS";
          cryptoZombies = new web3js.eth.Contract(ccryptozombiesABI, cryptoZombiesAddress);
          var accountInterval = setInterval(function() {
            // Check if account has changed
            if (web3.eth.accounts[0] !== userAccount) {
              userAccount = web3.eth.accounts[0];
              // Call some function to update the UI with the new account
              getZombiesByOwner(userAccount);
            }
          }, 100);
        }

        function getZombieDetails(id) {
          return cryptoZombies.methods.zombies(id).call()
        }

        // 1. Define `zombieToOwner` here
        function zombieToOwner(id){
            return cryptoZombies.methods.zombieToOwner(id).call()

        }

        // 2. Define `getZombiesByOwner` here
        function getZombiesByOwner(owner){
          return cryptoZombies.methods.getZombiesByOwner(owner).call()
        }


        window.addEventListener('load', function() {
  
            // Checking if Web3 has been injected by the browser (Mist/MetaMask)
            if (typeof web3 !== 'undefined') {
            // Use Mist/MetaMask's provider
            web3js = new Web3(web3.currentProvider);
            } else {
            // Handle the case where the user doesn't have web3. Probably 
            // show them a message telling them to install Metamask in 
            // order to use our app.
            }
        
            // Now you can start your app & access web3js freely:
            startApp()
        
        })
      </script>
  </body>
</html>
